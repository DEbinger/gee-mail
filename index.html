<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <link href="https://fonts.googleapis.com/css?family=Indie+Flower" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lalezar" rel="stylesheet">
    <script>
      window.onload = function(){	
    		for (var i = 0; i < geemails.length; i++){

        var boxForEmail = document.createElement('div');
        boxForEmail.className = "outsideBox";
        emailHere.appendChild(boxForEmail);
        boxForEmail.addEventListener('click',showNewEmail);

		    var dateBox = document.createElement('div');
  			dateBox.className = "date";
  			dateBox.innerHTML = geemails[i].date;
  			boxForEmail.appendChild(dateBox);

        var subjectBox = document.createElement('div');
        subjectBox.className = "subject";
        subjectBox.innerHTML = geemails[i].subject;
        boxForEmail.appendChild(subjectBox);

        var senderBox = document.createElement('div');
        senderBox.className = "sender";
        senderBox.innerHTML = geemails[i].sender;
        boxForEmail.appendChild(senderBox);

        var bodyBox = document.createElement('div');
        bodyBox.className = "body";
        bodyBox.innerHTML = geemails[i].body;
        boxForEmail.appendChild(bodyBox);
        bodyBox.style.display = "none";
}
        mailCounter.innerHTML = geemails.length;

        function newEmail(){
        geemails.length++;
        mailCounter.innerHTML = geemails.length;

        var boxForEmail = document.createElement('div');
        boxForEmail.className = "outsideBox";
        contentBorder.appendChild(boxForEmail);
        boxForEmail.addEventListener('click',showNewEmail);

        var newDateBox = document.createElement('div');
        newDateBox.className = "date";
        newDateBox.innerHTML = getNewMessage().date;
        boxForEmail.appendChild(newDateBox);

        var newSubjectBox = document.createElement('div');
        newSubjectBox.className = "subject";
        newSubjectBox.innerHTML = getNewMessage().subject;
        boxForEmail.appendChild(newSubjectBox);

        var newSenderBox = document.createElement('div');
        newSenderBox.className = "sender";
        newSenderBox.innerHTML = getNewMessage().sender;
        boxForEmail.appendChild(newSenderBox);

        var newBodyBox = document.createElement('div');
        newBodyBox.className = "body";
        newBodyBox.innerHTML = getNewMessage().body;
        boxForEmail.appendChild(newBodyBox);
        newBodyBox.style.display = "none";

        emailHere.insertBefore(boxForEmail, emailHere.childNodes[0]);

}
        setInterval(newEmail, 3000);

        var showEmail = document.getElementById('outsideBox');


        function showNewEmail(){
          var revealEmail = this.querySelectorAll(".body")[0];
          if(revealEmail.style.display === 'none'){
            revealEmail.style.display = 'block';
          }
          else{
            revealEmail.style.display = 'none';
          }
}

};

    </script>
	</head>
	<body>
  	<div class="container" id="main">
      <div id="header"><h2><div class="titleTop">PUG MAIL</div></h2>

      </div>
<!--       <div id = "geeMail">
  
      </div> -->
      <div>
        <div id="nav"
        style="height:575px">
          <ul class="inbox">
              <button><li>COMPOSE</li></button><br><br>
              <br><button><li>CONTACTS</li></button><br><br>
              <br><button><li>OPTIONS</li></button><br><br>
              <br><button a href="#" class="btn" ><li>INBOX</li></button>
          </ul>
          <button><div id="mailCounter"></button>

          </div>
        </div>
  			<div id="content" style="overflow: scroll;height: 575px; overflow-x:hidden;">
          <div id="emailHere">
            <div id="date">

            </div>
            <div id="sender">
                
            </div>
            <div id="body">
                
            </div>
            <div id="subject">

            </div>
           </div>  
          <div id="contentBorder">
            
            <div id="dateNew">
            
            </div>
            <div id="senderNew">
                
            </div>
            <div id="bodyNew">
                
            </div>
            <div id="subjectNew">
                
            </div>
          </div>
    		</div>			
      </div>	
    </div>
	</body>
</html>